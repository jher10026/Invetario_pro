<!-- ===================================
     TEMPLATE DE LOGIN - SIN ADMIN
     Archivo: src/app/components/login/login.html
     
     ‚úÖ Sin c√≥digo de administrador
     =================================== -->

<div class="login-container">
  <div class="login-card">
    <!-- Logo y t√≠tulo -->
    <div class="login-header">
      <div class="logo">üì¶</div>
      <h1>Inventario Pro</h1>
      <p>{{ mostrarLogin() ? 'Inicia sesi√≥n en tu cuenta' : 'Crea tu cuenta' }}</p>
    </div>

    <!-- Mensajes de error/√©xito -->
    @if (mensajeError()) {
      <div class="alert alert-error">
        ‚ö†Ô∏è {{ mensajeError() }}
      </div>
    }

    @if (mensajeExito()) {
      <div class="alert alert-success">
        ‚úÖ {{ mensajeExito() }}
      </div>
    }

    <!-- FORMULARIO DE LOGIN -->
    @if (mostrarLogin()) {
      <form (ngSubmit)="handleLogin()" class="login-form">
        <div class="form-group">
          <label for="loginEmail">Correo Electr√≥nico</label>
          <input
            type="email"
            id="loginEmail"
            [(ngModel)]="loginEmail"
            name="loginEmail"
            placeholder="tu@email.com"
            [disabled]="cargando()"
            required
          />
        </div>

        <div class="form-group">
          <label for="loginPassword">Contrase√±a</label>
          <input
            type="password"
            id="loginPassword"
            [(ngModel)]="loginPassword"
            name="loginPassword"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            [disabled]="cargando()"
            required
          />
        </div>

        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="cargando()"
        >
          @if (cargando()) {
            <span class="spinner"></span> Iniciando sesi√≥n...
          } @else {
            Iniciar Sesi√≥n
          }
        </button>

        <!-- Bot√≥n de prueba (√∫til para desarrollo) -->
        <button 
          type="button" 
          class="btn btn-secondary"
          (click)="loginPrueba()"
          [disabled]="cargando()"
        >
          üß™ Usar cuenta de prueba
        </button>
      </form>

      <div class="login-footer">
        <p>
          ¬øNo tienes cuenta?
          <button 
            type="button" 
            class="link-button"
            (click)="alternarFormulario()"
            [disabled]="cargando()"
          >
            Reg√≠strate aqu√≠
          </button>
        </p>
      </div>
    }

    <!-- FORMULARIO DE REGISTRO -->
    @if (!mostrarLogin()) {
      <form (ngSubmit)="handleRegistro()" class="login-form">
        <div class="form-group">
          <label for="registroName">Nombre Completo</label>
          <input
            type="text"
            id="registroName"
            [(ngModel)]="registroName"
            name="registroName"
            placeholder="Juan P√©rez"
            [disabled]="cargando()"
            required
          />
        </div>

        <div class="form-group">
          <label for="registroEmail">Correo Electr√≥nico</label>
          <input
            type="email"
            id="registroEmail"
            [(ngModel)]="registroEmail"
            name="registroEmail"
            placeholder="tu@email.com"
            [disabled]="cargando()"
            required
          />
        </div>

        <div class="form-group">
          <label for="registroPassword">Contrase√±a</label>
          <input
            type="password"
            id="registroPassword"
            [(ngModel)]="registroPassword"
            name="registroPassword"
            placeholder="M√≠nimo 6 caracteres"
            [disabled]="cargando()"
            required
          />
        </div>

        <div class="form-group">
          <label for="registroPasswordConfirm">Confirmar Contrase√±a</label>
          <input
            type="password"
            id="registroPasswordConfirm"
            [(ngModel)]="registroPasswordConfirm"
            name="registroPasswordConfirm"
            placeholder="Repite tu contrase√±a"
            [disabled]="cargando()"
            required
          />
        </div>

        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="cargando()"
        >
          @if (cargando()) {
            <span class="spinner"></span> Registrando...
          } @else {
            Crear Cuenta
          }
        </button>
      </form>

      <div class="login-footer">
        <p>
          ¬øYa tienes cuenta?
          <button 
            type="button" 
            class="link-button"
            (click)="alternarFormulario()"
            [disabled]="cargando()"
          >
            Inicia sesi√≥n
          </button>
        </p>
      </div>
    }
  </div>
</div>